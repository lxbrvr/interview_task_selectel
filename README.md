## Требования

- python3.8
- linux based os

## Запуск

Для запуска проекта необходимо выпонить следующие команды:

`python -m venv env`

`source env/bin/activate`

`pip install -r requirements.txt`

`python src/app.py`

Посе этого проект будет доступен по адресу `0.0.0.0:8000`.

## Тестирование

Тестирование проводится при помощи `pytest`.

Запуск:

`cd src && pytest -s`

## API спецификация

API соответствует парадигме REST.

Ниже представлен список эндпоинтов и их описание.

**Список серверов**

`GET /servers/`

**Оплата сервера**

`POST /servers/purchases/`

Принимает идентификатор сервера, который необходимо оплатить.
```
{
    "server_id": 1
}
```

В ходе оплаты запускается имитация процесса оплаты. 
Когда оплата пройдет, статус сервера поменяется на `PAID`. 
Далее, через определенное количество секунд статус севрера поменяется на `ACTIVE`. 

**Создание сервера**

`POST /servers/`

Принимает идентификатор стойки, к которой необходимо привязать сервер.
В случае, если сервер не помещается в стойку, то сервер создан не будет, клиенту вернется ошибка.
```
{
    "track_id": 1
}
```

**Инфорация о конкретном сервере**

`GET /servers/<int:server_id>/`

**Удаление сервера**

`DELETE /servers/<int:server_id>/`

**Обновение сервера**

`PUT /servers/<int:server_id>/`

**Частичное обновление сервера**

`PATCH /servers/<int:server_id>/`

**Список стоек**

`GET /racks/`

**Создание стойки**

`POST /racks/`

Принимает возможное количество устанавливаемых серверов в стойку.
```
{
    "servers_limit": 10
}
```

**Информация о конкретной стойке**

`GET /racks/<int:rack_id>/`

**Обновление стойки**

`PUT /racks/<int:rack_id>/`

**Частичное обновление стойки**

`PATCH /racks/<int:rack_id>/`
